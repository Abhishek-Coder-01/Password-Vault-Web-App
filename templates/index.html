<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Vault - Your Personal Digital Password Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Add Firebase scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>


    <!-- About  -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("LKGOcPmGErM_BY1mo"); // üîë Your Public Key
        })();
    </script>
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 1s ease-in-out;
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-bounce {
            animation: bounce 1s infinite;
        }

        .delay-500 {
            animation-delay: 0.5s;
        }

        .delay-700 {
            animation-delay: 0.7s;
        }

        .delay-1000 {
            animation-delay: 1s;
        }

        .loader {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #fff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-right: 8px;
            vertical-align: middle;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }









        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.cdnfonts.com/css/clash-display');

        .glass-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gradient-text {
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .gradient-border {
            position: relative;
            background: linear-gradient(#0f172a, #0f172a) padding-box,
                linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899) border-box;
            border: 2px solid transparent;
        }

        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .hover-3d {
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .hover-3d:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .grid-pattern {
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .noise::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
        }



        /* From Uiverse.io by vinodjangid07 - enhanced */
        .back-to-top {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgb(20, 20, 20);
            border: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0px 0px 0px 4px rgba(180, 160, 255, 0.253);
            cursor: pointer;
            transition-duration: 0.3s;
            overflow: hidden;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top .svgIcon {
            width: 12px;
            transition-duration: 0.3s;
        }

        .back-to-top .svgIcon path {
            fill: white;
        }

        .back-to-top:hover {
            width: 140px;
            border-radius: 50px;
            transition-duration: 0.3s;
            background-color: rgb(181, 160, 255);
            align-items: center;
        }

        .back-to-top:hover .svgIcon {
            transition-duration: 0.2s;
            transform: translateY(-200%);
        }

        .back-to-top::before {
            position: absolute;
            bottom: -20px;
            content: "Back to Top";
            color: white;
            font-size: 0px;
        }

        .back-to-top:hover::before {
            font-size: 13px;
            opacity: 1;
            bottom: unset;
            transition-duration: 0.3s;
        }

        .sidebar-transition {
            transition: transform 0.3s ease;
        }



        /* Help */

        /* Smooth transitions for modal */
        .modal-transition {
            transition: all 0.3s ease-out;
        }

        /* Custom scrollbar for the content */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }

        /* security */

        .security-modal-transition {
            transition: all 0.3s ease-out;
        }

        .security-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .security-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .security-scrollbar::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }

        .security-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }

        html {
            transition: color, background-color 0.3s ease;
        }

        /* For icon transitions */
        .theme-icon-transition {
            transition: transform 0.3s ease;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        poppins: ['Poppins', 'sans-serif']
                    },
                    backdropBlur: {
                        sm: '4px',
                        lg: '16px'
                    }
                }
            }
        }
    </script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#a5b4fc',
                            DEFAULT: '#6366f1',
                            dark: '#4f46e5'
                        },
                        secondary: {
                            light: '#c4b5fd',
                            DEFAULT: '#8b5cf6',
                            dark: '#7c3aed'
                        },
                        dark: '#0f172a',
                        light: '#f8fafc'
                    },
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        display: ['"Clash Display"', 'sans-serif']
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'float-reverse': 'float-reverse 8s ease-in-out infinite',
                        'pulse-slow': 'pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-20px) rotate(2deg)' }
                        },
                        'float-reverse': {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-15px) rotate(-2deg)' }
                        }
                    }
                }
            }
        }
    </script>

</head>

<div
    class="font-poppins bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 text-slate-800 dark:text-slate-100">
    <!-- login popup option -->

    <!-- Login Modal -->
    <div id="loginModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden text-gray-900 ">
        <div
            class="font-poppins bg-gradient-to-br from-slate-50 via-white to-violet-50 p-4 w-full max-w-md rounded-lg shadow-xl backdrop-blur-sm relative">
            <!-- Close Button -->
            <button onclick="toggleModal()"
                class="absolute top-2 right-2 text-gray-600 hover:text-black text-xl font-bold">

                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2" style="font-weight: bold;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>


            </button>

            <div class="w-full">
                <!-- Header -->
                <div class="text-center mb-4">
                    <a href="#" class="inline-flex items-center space-x-3 mb-6 hover:opacity-80 transition-opacity">
                        <svg class="w-10 h-10 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="shieldGradient" x1="0" y1="0" x2="1" y2="1">
                                    <stop offset="0%" stop-color="#4facfe" />
                                    <stop offset="100%" stop-color="#00f2fe" />
                                </linearGradient>
                            </defs>
                            <path fill="url(#shieldGradient)"
                                d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z" />
                            <circle cx="12" cy="11" r="2" fill="#ffffff" />
                            <path d="M10 16c0-1.1.9-2 2-2s2 .9 2 2v.5h-4V16z" fill="#ffffff" />
                        </svg>
                        <span class="font-bold text-2xl text-slate-800">Password Vault</span>
                    </a>
                </div>

                <!-- Login Card (shown by default) -->
                <div class="bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border-0" id="login-form">
                    <div class="p-6 pb-4">
                        <h2 class="text-2xl font-semibold text-center text-slate-800 mb-2">Sign In</h2>
                        <p class="text-center text-slate-600 text-sm">Enter your credentials to access your account
                        </p>
                    </div>

                    <div class="p-6 pt-0 space-y-4">
                        <form class="space-y-4" onsubmit="handleLogin(event)">
                            <!-- Your existing login form -->
                            <div class="space-y-2">
                                <label for="modal-email"
                                    class="text-sm font-medium text-slate-900 block font-bold">Email</label>
                                <input id="modal-email" type="email" placeholder="Enter your email"
                                    class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                    required />
                            </div>

                            <div class="space-y-2">
                                <label for="modal-password"
                                    class="text-sm font-medium text-slate-900 block">Password</label>
                                <input id="modal-password" type="password" placeholder="Enter your password"
                                    class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                    required />
                            </div>

                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <input type="checkbox" id="modal-remember"
                                        class="h-4 w-4 text-violet-600 border-slate-300 rounded" required />
                                    <label for="modal-remember" class="text-sm text-slate-600">Remember me</label>
                                </div>

                            </div>

                            <button type="submit"
                                class="w-full bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white font-medium py-2.5 px-4 rounded-md shadow-lg transition-all duration-200">
                                <span id="login-button-text">Sign In</span>
                            </button>
                        </form>

                        <!-- Social Login Buttons -->
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <span class="w-full border-t border-slate-200"></span>
                            </div>
                            <div class="relative flex justify-center text-xs uppercase">
                                <span class="bg-white px-2 text-slate-500">Or continue with</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="loadGoogle()" id="googleBtn"
                                class="flex items-center justify-center px-4 py-2 border border-slate-200 rounded-md text-slate-600 hover:bg-slate-50 transition-colors">
                                <!-- SVG Icon -->
                                <svg class="w-4 h-4 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#4285F4"
                                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                                    <path fill="#34A853"
                                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                                    <path fill="#FBBC05"
                                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                                    <path fill="#EA4335"
                                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                                </svg>

                                <!-- Text -->
                                <span id="googleText">Google</span>

                                <!-- Spinner (Hidden by Default) -->
                                <div id="googleSpinner"
                                    class="hidden w-[20px] h-[20px] border-2 border-blue-500 border-t-transparent rounded-full animate-spin">
                                </div>

                            </button>





                            <button type="button" onclick="loadGithub()" id="githubBtn"
                                class="flex items-center justify-center px-4 py-2 border border-slate-200 rounded-md text-slate-600 hover:bg-slate-50 transition-colors">
                                <svg class="w-4 h-4 mr-2" fill="#181717" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 
        3.438 9.8 8.205 11.387.6.113.82-.258.82-.577 
        0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61 
        -.546-1.387-1.333-1.757-1.333-1.757-1.087-.744.084-.729.084-.729 
        1.205.084 1.84 1.236 1.84 1.236 1.07 1.835 2.809 1.304 3.495.997 
        .108-.776.417-1.304.76-1.604-2.665-.3-5.466-1.334-5.466-5.93 
        0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 
        1.005-.322 3.3 1.23a11.52 11.52 0 0 1 3-.405c1.02.005 2.045.138 3 
        .405 2.28-1.552 3.285-1.23 3.285-1.23 .645 1.653.24 2.873.12 3.176 
        .765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92 
        .42.36.81 1.096.81 2.215 0 1.6-.015 2.89-.015 3.286 
        0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297 
        c0-6.627-5.373-12-12-12" />
                                </svg>
                                <!-- Text -->
                                <span id="githubText">GitHub</span>

                                <!-- Spinner (Hidden by Default) -->
                                <div id="githubSpinner"
                                    class="hidden w-[20px] h-[20px] border-2 border-blue-500 border-t-transparent rounded-full animate-spin">
                                </div>

                            </button>
                        </div>
                    </div>
                </div>

                <!-- Register Card (hidden by default) -->
                <div class="bg-white/80 backdrop-blur-sm rounded-lg shadow-xl border-0 hidden  " id="register-form">
                    <div class="p-6 pb-4">
                        <h2 class="text-2xl font-semibold text-center text-slate-800 mb-2">Sign Up</h2>
                        <p class="text-center text-slate-600 text-sm">Create your account to get started</p>
                    </div>

                    <div class="p-6 pt-0 space-y-4">
                        <form class="space-y-4" onsubmit="handleRegister(event)">
                            <!-- Your existing register form -->
                            <div class="grid grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <label for="firstName" class="text-sm font-medium text-slate-700 block">First
                                        Name</label>
                                    <input id="firstName" type="text" placeholder="John"
                                        class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                        required />
                                </div>
                                <div class="space-y-2">
                                    <label for="lastName" class="text-sm font-medium text-slate-700 block">Last
                                        Name</label>
                                    <input id="lastName" type="text" placeholder="Doe"
                                        class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                        required />
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label for="email" class="text-sm font-medium text-slate-700 block">Email</label>
                                <input id="email" type="email" placeholder="john@example.com"
                                    class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                    required />
                            </div>

                            <div class="space-y-2">
                                <label for="password" class="text-sm font-medium text-slate-700 block">Password</label>
                                <input id="password" type="password" placeholder="Create a strong password"
                                    class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                    required />
                                <p class="text-xs text-slate-500">Must be at least 8 characters long</p>
                            </div>

                            <div class="space-y-2">
                                <label for="confirmPassword" class="text-sm font-medium text-slate-700 block">Confirm
                                    Password</label>
                                <input id="confirmPassword" type="password" placeholder="Confirm your password"
                                    class="w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"
                                    required />
                            </div>

                            <div class="flex items-start space-x-2">
                                <input type="checkbox" id="terms"
                                    class="h-4 w-4 text-violet-600 border-slate-300 rounded mt-1" required />
                                <label for="terms" class="text-sm text-slate-600 leading-4">
                                    I agree to the terms and conditions
                                </label>
                            </div>

                            <button type="submit"
                                class="w-full bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white font-medium py-2.5 px-4 rounded-md shadow-lg transition-all duration-200">
                                Create Account
                            </button>
                        </form>
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <span class="w-full border-t border-slate-200"></span>
                            </div>
                            <div class="relative flex justify-center text-xs uppercase">
                                <span class="bg-white px-2 text-slate-500">Or continue with</span>
                            </div>
                        </div>

                        <!-- Update the registration form's social login buttons section -->
                        <div class="grid grid-cols-2 gap-4">
                            <!-- Google Button with Loading State -->
                            <button onclick="signInWithGoogle()" id="registerGoogleBtn"
                                class="flex items-center justify-center px-4 py-2 border border-slate-200 rounded-md text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-70 disabled:cursor-not-allowed">
                                <svg class="w-4 h-4 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#4285F4"
                                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                                    <path fill="#34A853"
                                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                                    <path fill="#FBBC05"
                                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                                    <path fill="#EA4335"
                                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                                </svg>
                                <span id="registerGoogleText">Google</span>
                                <div id="registerGoogleSpinner"
                                    class="hidden w-[20px] h-[20px] ml-2 border-2 border-blue-500 border-t-transparent rounded-full animate-spin">
                                </div>
                            </button>

                            <!-- GitHub Button with Loading State -->
                            <button onclick="signInWithGitHub()" id="registerGithubBtn"
                                class="flex items-center justify-center px-4 py-2 border border-slate-200 rounded-md text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-70 disabled:cursor-not-allowed">
                                <svg class="w-4 h-4 mr-2" fill="#181717" viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.387.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.087-.744.084-.729.084-.729 1.205.084 1.84 1.236 1.84 1.236 1.07 1.835 2.809 1.304 3.495.997.108-.776.417-1.304.76-1.604-2.665-.3-5.466-1.334-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23a11.52 11.52 0 0 1 3-.405c1.02.005 2.045.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23 .645 1.653.24 2.873.12 3.176 .765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92 .42.36.81 1.096.81 2.215 0 1.6-.015 2.89-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                </svg>
                                <span id="registerGithubText">GitHub</span>
                                <div id="registerGithubSpinner"
                                    class="hidden w-[20px] h-[20px] ml-2 border-2 border-blue-500 border-t-transparent rounded-full animate-spin">
                                </div>
                            </button>
                        </div>

                    </div>
                </div>

                <!-- Sign Up Link (in login form) -->
                <div class="text-center mt-6" id="login-footer">
                    <p class="text-slate-600">
                        Don't have an account?
                        <a href="#" onclick="showRegisterForm()"
                            class="text-violet-600 hover:text-violet-700 font-medium hover:underline">
                            Sign up for free
                        </a>
                    </p>
                </div>

                <!-- Sign In Link (in register form) -->
                <div class="text-center mt-6 hidden" id="register-footer">
                    <p class="text-slate-600">
                        Already have an account?
                        <a href="#" onclick="showLoginForm()"
                            class="text-violet-600 hover:text-violet-700 font-medium hover:underline">
                            Sign in here
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- end -->


    <!-- Help section st -->


    <!-- Modal Overlay -->
    <div id="helpModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 modal-transition opacity-0">
        <!-- Modal Content -->
        <div
            class="bg-white rounded-xl max-w-lg w-full mx-4 p-6 relative shadow-2xl transform transition-all duration-300 scale-95">
            <!-- Close Button -->
            <button id="closeHelpBtnn"
                class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl font-bold transition-colors duration-200 ">
                &times;
            </button>

            <div class="flex items-start gap-3 mb-5">
                <div class="bg-blue-100 p-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-2xl font-semibold text-gray-800">Account Help Center</h2>
                    <p class="text-gray-500 text-sm">Find answers to common questions about your account</p>
                </div>
            </div>

            <div class="space-y-4 text-gray-700 max-h-96 overflow-y-auto custom-scrollbar pr-2">
                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">1</span>
                        How to Create an Account?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Click on the "Sign Up" button and fill your details.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">2</span>
                        How to Log In?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Enter your email and password, then click "Log In".</p>
                </div>


                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">3</span>
                        How to Change Your Password?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Go to Account Settings &gt; Change Password.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">4</span>
                        How is my data secured?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Your passwords are encrypted and stored safely.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">5</span>
                        How to Log Out?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Click "Logout" from your account menu.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">6</span>
                        What if I forget my master password?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">You will need to reset your account as passwords are
                        encrypted.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">7</span>
                        How to Delete My Account?
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Go to Account Settings &gt; Delete Account or contact
                        support.</p>
                </div>

                <div class="p-4 rounded-lg bg-blue-50 border border-blue-100">
                    <h3 class="font-medium text-gray-900 flex items-center gap-2">
                        <span
                            class="bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">8</span>
                        Support Contact
                    </h3>
                    <p class="mt-1 text-gray-600 ml-7">Email us at <a href="mailto:support@yourdomain.com"
                            class="text-blue-600 hover:underline">heloworld2134@gmail.com</a> for help.</p>
                </div>
            </div>
        </div>
    </div>


    <!-- Help section end -->



    <!-- security section st -->


    <!-- Security Modal Overlay -->
    <div id="securityGuideModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 security-modal-transition opacity-0">
        <!-- Modal Content -->
        <div
            class="bg-white rounded-xl max-w-2xl w-full mx-4 p-6 relative shadow-2xl transform transition-all duration-300 scale-95">
            <!-- Close Button -->
            <button id="closeSecurityGuideBtn"
                class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl font-bold transition-colors duration-200">
                &times;
            </button>

            <div class="flex items-start gap-3 mb-5">
                <div class="bg-indigo-100 p-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-2xl font-semibold text-gray-800">Password Vault Security Guide</h2>
                    <p class="text-gray-500 text-sm">Essential security information for your protection</p>
                </div>
            </div>

            <div class="space-y-4 text-gray-700 max-h-[70vh] overflow-y-auto security-scrollbar pr-2">
                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">üîí</span> Master Password
                    </h3>
                    <p class="text-gray-600">Your master password is the key to your vault. It's never stored on our
                        servers and we cannot recover it if lost. Use a strong, unique passphrase you don't use
                        elsewhere.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">üõ°Ô∏è</span> Encryption Process
                    </h3>
                    <p class="text-gray-600">All data is encrypted with AES-256 on your device before being sent to
                        our
                        servers. Only you hold the decryption key (your master password).</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">üîê</span> Secure Sessions
                    </h3>
                    <p class="text-gray-600">Your vault automatically locks after 30 minutes of inactivity. For
                        maximum
                        security, manually lock your vault when stepping away from your device.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">‚ö†Ô∏è</span> Data Recovery
                    </h3>
                    <p class="text-gray-600">Due to our zero-knowledge architecture, password recovery is
                        impossible. We
                        recommend storing a backup of your master password in a secure location.</p>
                </div>

                <div class="p-4 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">üåê</span> Secure Connections
                    </h3>
                    <p class="text-gray-600">All communications use TLS 1.3 encryption. Verify the padlock icon in
                        your
                        browser's address bar before entering your master password.</p>
                </div>

                <div class="p-4 rounded-lg bg-indigo-50 border border-indigo-100">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                        <span class="text-indigo-600">‚úâÔ∏è</span> Security Support
                    </h3>
                    <p class="text-gray-600">For security concerns, contact <a href="mailto:security@vaultdomain.com"
                            class="text-indigo-600 hover:underline">heloworld2134@gmail.com</a>. Never share your
                        master password via email.</p>
                </div>
            </div>
        </div>
    </div>


    <!-- security section end -->



    <!-- Delete section st  -->

    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 transition-opacity duration-300">
        <div
            class="bg-white dark:bg-gray-900 p-6 md:p-8 rounded-2xl max-w-sm w-full shadow-2xl text-center text-gray-900 dark:text-gray-100 transform transition-all ">

            <!-- Title -->
            <h3 class="text-2xl font-semibold mb-3">‚ö†Ô∏è Confirm Deletion</h3>

            <!-- Description -->
            <p class="mb-6 text-gray-600 dark:text-gray-300">
                Are you sure you want to <span class="font-bold text-red-600">delete your account</span>?
                This action <u>cannot be undone</u>.
            </p>

            <!-- Buttons -->
            <div class="flex justify-center space-x-4">
                <button id="cancelDeleteBtn"
                    class="px-5 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition">
                    Cancel
                </button>
                <form method="POST" action="/delete_account">
                    <button type="submit"
                        class="px-5 py-2 rounded-lg bg-red-600 text-white font-medium shadow hover:bg-red-700 hover:shadow-md transition">
                        Delete
                    </button>
                </form>
            </div>
        </div>
    </div>





    <!-- Delete section end  -->



    <!-- password_change sectoion st -->


    <!-- Change Password Modal -->
    <div id="changePasswordModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50 transition-opacity duration-300">
        <div
            class="bg-white dark:bg-gray-900 p-6 md:p-8 rounded-2xl max-w-sm w-full shadow-2xl text-center text-gray-900 dark:text-gray-100 transform transition-all">

            <!-- Title -->
            <h3 class="text-2xl font-semibold mb-4">üîí Change Password</h3>

            <!-- Form -->
            <form id="changePasswordForm" class="space-y-4">
                <input type="password" id="oldPassword" placeholder="Old Password"
                    class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
                    required>
                <input type="password" id="newPassword" placeholder="New Password"
                    class="w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"
                    required>

                <!-- Buttons -->
                <div class="flex justify-center space-x-4 mt-2">
                    <button type="button" id="cancelChangePasswordBtn"
                        class="px-5 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition">
                        Cancel
                    </button>
                    <button type="submit"
                        class="px-5 py-2 rounded-lg bg-blue-600 text-white font-medium shadow hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition">
                        Change
                    </button>
                </div>
            </form>
        </div>
    </div>


    <!-- password_change section end -->




    <!-- password_change section end -->




    <div id="profileModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden transition-opacity duration-300 opacity-0">
        <div
            class="bg-white dark:bg-gray-900 p-8 rounded-2xl shadow-2xl w-full max-w-md relative text-center transform transition-all duration-300 scale-95 opacity-0">



            <!-- Avatar -->
            <div class="flex justify-center mb-6">
                <div
                    class="relative w-28 h-28 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-lg ring-4 ring-white/50 dark:ring-gray-800/50 transition-all duration-300 hover:scale-105 overflow-hidden">
                    <!-- Default User Icon (visible when image is empty) -->
                    <i id="defaultIcon" class="fa-solid fa-circle-user text-6xl"></i>
                    <!-- Profile image (replaces icon when available) -->
                    <img id="profileavatar" class="absolute inset-0 w-full h-full object-cover hidden" src=""
                        alt="User Avatar" />
                </div>
            </div>


            <!-- Name -->
            <h2 id="profileFirstName"
                class="text-2xl font-bold text-gray-800 dark:text-white mb-2 transition-colors duration-300">
                First Name
            </h2>

            <!-- Email -->
            <p id="profileEmail" class="text-gray-600 dark:text-gray-300 text-base mb-6 transition-colors duration-300">
                example@email.com
            </p>

            <!-- Divider -->
            <div class="border-t border-gray-200 dark:border-gray-700 my-6"></div>

            <!-- Password (with toggle) -->
            <div class="relative w-4/5 mx-auto mb-6">
                <input id="profilePassword" type="password" readonly
                    class="w-full px-4 py-3 text-center border rounded-full bg-gray-50 dark:bg-gray-800 dark:text-white dark:border-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all duration-300"
                    value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                <button type="button" onclick="toggleProfilePassword()"
                    class="absolute right-4 top-1/2 -translate-y-1/2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 flex items-center">
                    <span id="showHideText" class="mr-1 text-sm">Show</span>
                    <i class="fa-solid fa-eye text-xs"></i>
                </button>
            </div>

            <!-- Additional Info -->
            <div class="grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400">
                <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg transition-colors duration-300">
                    <p class="font-medium">Member since</p>
                    <p id="memberSince">Aug 2025</p>
                </div>
                <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg transition-colors duration-300">
                    <p class="font-medium">Status</p>
                    <p id="userStatus" class="text-red-600 dark:text-red-600 " style="font-weight: bold;">Inactive</p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex justify-center mt-6 space-x-3">
                <button onclick="editProfile()"
                    class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-medium transition-colors duration-300 flex items-center">
                    <i class="fa-solid fa-pen-to-square mr-2"></i> Edit Profile
                </button>
                <button onclick="closeProfileModal()"
                    class="px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-full text-sm font-medium transition-colors duration-300">
                    Close
                </button>
            </div>
        </div>
    </div>
    <!-- ...existing code... -->


    <!-- popup option of mY profile  end-->







    <!-- Enhanced Navigation -->
    <nav
        class="flex items-center justify-between px-6 py-[18px] bg-white/10 backdrop-blur-sm border-b border-white/5 shadow-sm">
        <!-- Logo/Brand Section -->
        <div class="flex items-center gap-3 hover:opacity-90 transition-opacity">
            <i data-lucide="lock" class="h-7 w-7 text-white"></i>
            <span
                class="text-white font-semibold text-xl bg-gradient-to-r from-white to-white/70 bg-clip-text text-transparent">
                Password Vault
            </span>
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center gap-6">
            <a href="#" onclick="setActiveMenu(this);showSection('home')"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="home" class="h-4 w-4"></i>
                Home
            </a>

            <!-- Navbar Section -->
            <a href="#" id="loginBtn" onclick="setActiveMenu(this); toggleModal(); return false;"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="log-in" class="h-4 w-4"></i>
                Login
            </a>
            <a href="/psd" id="dashboardBtn" onclick="setActiveMenu(this); toggleDashboardSidebar(); return false;"
                class="menu-item hidden text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="layout-dashboard" class="h-4 w-4"></i>
                Dashboard
            </a>

            <a href="#" onclick="setActiveMenu(this);showSection('about')"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="info" class="h-4 w-4"></i>
                About
            </a>

            <a href="#" onclick="setActiveMenu(this),toggleSidebar()"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="user" class="h-4 w-4"></i>
                Account
            </a>


        </div>

        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn"
            class="md:hidden text-white p-2 rounded-lg hover:bg-white/20 transition-all duration-200 group">
            <i data-lucide="menu" class="h-6 w-6 group-hover:scale-105 transition-transform"></i>
        </button>
    </nav>


    <!-- Overlay with smooth transition -->
    <div id="sidebar-overlay"
        class="fixed inset-0 z-40 hidden opacity-0 transition-opacity duration-500 ease-in-out bg-gradient-to-r from-gray-900/80 to-indigo-900/80"
        onclick="toggleSidebar()">
    </div>
    <!-- Right Sidebar with glass morphism effect -->
    <div id="sidebar" class="fixed top-0 right-0 z-50 h-full w-80 sidebar-transition transform translate-x-full 
            bg-gradient-to-br from-indigo-100/90 via-white to-blue-50/90 backdrop-blur-lg 
            shadow-2xl border-l border-white/20
            dark:bg-gradient-to-br dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 dark:text-slate-100">

        <div class="flex flex-col h-full dark:bg-slate-900/80">
            <!-- Header with improved design -->
            <div
                class="flex items-center justify-between p-5 bg-white border-b border-white/10 dark:bg-slate-900/80 dark:border-slate-700">

                <!-- HTML -->
                <div class="flex items-center gap-4">
                    <div id="profile-section" class="hidden flex items-center">
                        <div
                            class="relative w-14 h-14 flex items-center justify-center rounded-full border-2 border-white dark:border-slate-600 bg-gradient-to-r from-blue-500 to-indigo-600 overflow-hidden shadow-lg">

                            <!-- Real Avatar -->
                            <img id="user-avatar" src="" class="hidden w-full h-full object-cover rounded-full"
                                alt="User Avatar" />

                            <!-- Fallback User Icon -->
                            <i id="user-icon" class="fa-solid fa-circle-user text-5xl text-white/90"></i>
                        </div>

                        <div class="profile-info ml-2">
                            <div id="user-name" class="font-semibold dark:text-white"></div>
                            <div id="user-email" class="text-sm text-gray-500 dark:text-slate-400"></div>
                        </div>
                    </div>
                </div>
                <button onclick="toggleSidebar()" aria-label="Close sidebar"
                    class="p-2 rounded-full text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-800/30 dark:text-red-400 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400 active:scale-95">

                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <!-- Links -->
            <div class="flex-1 p-4 space-y-2 overflow-y-auto dark:bg-slate-900/80">

                <!-- Profile Dropdown Container -->


                <!-- Profile Dropdown Container -->
                <div class="relative">
                    <button id="profile-btn"
                        class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 w-full text-left text-gray-700 dark:text-slate-300 transition-colors">
                        <i data-lucide="user" class="h-5 w-5 text-gray-600 dark:text-slate-400"></i>
                        <span>Profile</span>
                        <i data-lucide="chevron-down"
                            class="h-4 w-4 ml-auto text-gray-400 dark:text-slate-500 transition-transform duration-200"
                            id="profile-chevron"></i>
                    </button>

                    <!-- Profile Dropdown Menu -->
                    <div id="profile-dropdown" class="pl-8 mt-1 hidden space-y-1">


                        <!-- My Profile Button -->
                        <a href="#" id="myProfileBtn" onclick="openProfileModal(); return false;"
                            class="flex items-center gap-2 py-2 px-3 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-slate-300 rounded-lg">
                            <i data-lucide="user" class="h-4 w-4 text-gray-500 dark:text-slate-400"></i>
                            My Profile
                        </a>
                        <a href="#" onclick="editProfileSidebar()"
                            class="flex items-center gap-2 py-2 px-3 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-slate-300 rounded-lg">
                            <i data-lucide="edit" class="h-4 w-4 text-gray-500 dark:text-slate-400"></i>
                            Edit Profile
                        </a>
                    </div>
                </div>



                <!-- Settings Dropdown Container -->
                <div class="relative">
                    <button id="settings-btn"
                        class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 w-full text-left text-gray-700 dark:text-slate-300 transition-colors">
                        <i data-lucide="settings" class="h-5 w-5 text-gray-500 dark:text-slate-400"></i>
                        <span>Settings</span>
                        <i data-lucide="chevron-down"
                            class="h-4 w-4 ml-auto text-gray-400 dark:text-slate-500 transition-transform duration-200"
                            id="settings-chevron"></i>
                    </button>

                    <!-- Settings Dropdown Menu -->
                    <div id="settings-dropdown" class="pl-8 mt-1 hidden space-y-1">
                        <!-- Theme Item with nested options -->
                        <div class="relative">
                            <!-- Main Theme Dropdown Button -->
                            <button id="theme-btn"
                                class="flex items-center gap-2 w-full py-2 px-3 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-slate-300 rounded-lg">
                                <i data-lucide="palette" class="h-4 w-4 text-gray-500 dark:text-slate-400"></i>
                                <span>Theme</span>
                                <i data-lucide="chevron-right"
                                    class="h-4 w-4 ml-auto text-gray-400 dark:text-slate-500 transition-transform duration-200"
                                    id="theme-chevron"></i>
                            </button>

                            <!-- Theme Options -->
                            <div id="theme-options" class="pl-4 mt-1 hidden space-y-1">
                                <button id="theme-toggle" aria-pressed="false"
                                    class="w-full flex items-center justify-between px-2 py-1.5 text-sm rounded hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-slate-300">
                                    <!-- Left Side: Label + Icons -->
                                    <div class="flex items-center gap-2">
                                        <!-- Sun Icon -->
                                        <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <circle cx="12" cy="12" r="4" stroke-width="1.5"></circle>
                                            <path stroke-width="1.5"
                                                d="M12 2v2M12 20v2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M2 12h2M20 12h2M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4" />
                                        </svg>
                                        <!-- Moon Icon -->
                                        <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 hidden"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path stroke-width="1.5" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />
                                        </svg>
                                        <span id="theme-label">Light Mode</span>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <a href="#" id="changePasswordBtn"
                            class="flex items-center gap-2 py-2 px-3 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-600 dark:text-slate-300 rounded-lg">
                            <i data-lucide="key" class="h-4 w-4 text-gray-500 dark:text-slate-400"></i>
                            Change Password
                        </a>

                        <a href="#" id="deleteAccountBtn"
                            class="flex items-center gap-2 py-2 px-3 text-sm hover:bg-gray-100 dark:hover:bg-slate-800 text-red-600 dark:text-red-400 rounded-lg">
                            <i data-lucide="trash-2" class="h-4 w-4 text-red-500 dark:text-red-400"></i>
                            Delete Account
                        </a>
                    </div>
                </div>

                <a href="#"
                    class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors"
                    id="openSecurityGuideBtn">
                    <i data-lucide="shield" class="h-5 w-5 text-gray-500 dark:text-slate-400"></i>
                    Security
                </a>
                <a href="#"
                    class="flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300 transition-colors"
                    id="openHelpBtn">
                    <i data-lucide="help-circle" class="h-5 w-5 text-gray-500 dark:text-slate-400"></i>
                    Help
                </a>
            </div>

            <!-- Login -->
            <div class="p-4 border-t border-gray-700 dark:border-slate-700">
                <button onclick="logout()"
                    class="logout-btnn w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-700 text-white font-medium rounded hover:bg-red-600/30 dark:bg-red-600/80 dark:hover:bg-red-700/80 transition-colors duration-200">
                    <i data-lucide="log-out" class="h-5 w-5"></i>
                    Logout
                </button>
            </div>
        </div>
    </div>


    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden bg-white/10 backdrop-blur-sm px-6 py-4 rounded-lg shadow-lg">
        <div class="flex flex-col gap-2">
            <a href="#" onclick="setActiveMenu(this);showSection('home')"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="home" class="h-4 w-4"></i>
                Home
            </a>
            <a href="#" id="loginBtnMobile" onclick="setActiveMenu(this); toggleModal(); return false;"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="log-in" class="h-4 w-4"></i>
                Login
            </a>

            <a href="/psd" id="dashboardBtnMobile"
                onclick="setActiveMenu(this); toggleDashboardSidebar(); return false;"
                class="menu-item hidden text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="layout-dashboard" class="h-4 w-4"></i>
                Dashboard
            </a>
            <a href="#" onclick="setActiveMenu(this);showSection('about')"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="info" class="h-4 w-4"></i>
                About
            </a>
            <a href="#" onclick="setActiveMenu(this); toggleSidebar()"
                class="menu-item text-white px-3 py-2 rounded-md hover:bg-white/10 transition-all duration-200 font-medium flex items-center gap-1">
                <i data-lucide="user" class="h-4 w-4"></i>
                Account
            </a>
        </div>
    </div>


    <main>
        <section id="home" class="content-section">


            <div
                class="min-h-screen bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 dark:from-slate-900 dark:via-slate-900 dark:to-slate-900 relative overflow-hidden dark:text-slate-100">
                <!-- Background decoration -->

                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-20 left-10 w-20 h-20 rounded-full bg-white/20 animate-pulse"></div>
                    <div class="absolute top-40 right-20 w-16 h-16 rounded-full bg-white/15 animate-pulse delay-1000">
                    </div>
                    <div class="absolute bottom-32 left-1/4 w-12 h-12 rounded-full bg-white/25 animate-pulse delay-500">
                    </div>
                    <div
                        class="absolute bottom-20 right-1/3 w-24 h-24 rounded-full bg-white/10 animate-pulse delay-700">
                    </div>
                </div>

                <main class="px-6 py-16 md:py-24">
                    <!-- Hero Section -->
                    <div class="max-w-4xl mx-auto text-center mb-20">
                        <div
                            class="bg-white/15 backdrop-blur-lg rounded-3xl p-8 md:p-16 shadow-2xl border border-white/20 relative">
                            <!-- Floating icons -->
                            <div
                                class="absolute -top-4 -left-4 w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg animate-bounce">
                                <i data-lucide="lock" class="h-8 w-8 text-white"></i>
                            </div>
                            <div
                                class="absolute -top-2 -right-6 w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm animate-pulse">
                                <i data-lucide="shield" class="h-6 w-6 text-white"></i>
                            </div>

                            <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6 animate-fade-in">
                                Password Vault
                            </h1>

                            <p class="text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto leading-relaxed">
                                Your personal digital<br />
                                password manager
                            </p>

                            <button onclick="handleGetStarted()"
                                class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 text-lg font-semibold rounded-full shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 mb-8">
                                Get Started Securely
                            </button>

                            <div class="flex justify-center items-center gap-4 text-white/70 text-sm">
                                <div class="flex items-center gap-1">
                                    <i data-lucide="shield" class="h-4 w-4"></i>
                                    <span>Bank-grade security</span>
                                </div>
                                <div class="w-1 h-1 bg-white/50 rounded-full"></div>
                                <div class="flex items-center gap-1">
                                    <i data-lucide="lock" class="h-4 w-4"></i>
                                    <span>Zero-knowledge encryption</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Features Grid -->
                    <div class="max-w-6xl mx-auto">
                        <div class="grid md:grid-cols-3 gap-6">
                            <div
                                class="feature-card bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 transform hover:scale-105 cursor-pointer">
                                <div class="w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4">
                                    <i data-lucide="key" class="h-6 w-6 text-white"></i>
                                </div>
                                <h3 class="text-xl font-semibold text-white mb-2">Strong Passwords</h3>
                                <p class="text-white/80 text-sm">Generate and store uncrackable passwords for all
                                    your
                                    accounts
                                </p>
                            </div>

                            <div
                                class="feature-card bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 transform hover:scale-105 cursor-pointer">
                                <div class="w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4">
                                    <i data-lucide="smartphone" class="h-6 w-6 text-white"></i>
                                </div>
                                <h3 class="text-xl font-semibold text-white mb-2">Multi-Device Sync</h3>
                                <p class="text-white/80 text-sm">Access your passwords seamlessly across all your
                                    devices
                                </p>
                            </div>

                            <div
                                class="feature-card bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 transform hover:scale-105 cursor-pointer">
                                <div class="w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4">
                                    <i data-lucide="eye" class="h-6 w-6 text-white"></i>
                                </div>
                                <h3 class="text-xl font-semibold text-white mb-2">Security Monitoring</h3>
                                <p class="text-white/80 text-sm">Monitor your accounts for breaches and security
                                    threats
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Section -->
                    <div class="max-w-4xl mx-auto mt-16">
                        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20">
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                                <div class="stat-item cursor-pointer hover:scale-105 transition-transform duration-200">
                                    <div class="text-3xl font-bold text-white mb-1" data-target="10000000">0</div>
                                    <div class="text-white/80 text-sm">Users Protected</div>
                                </div>
                                <div class="stat-item cursor-pointer hover:scale-105 transition-transform duration-200">
                                    <div class="text-3xl font-bold text-white mb-1" data-target="99.9">0</div>
                                    <div class="text-white/80 text-sm">% Uptime</div>
                                </div>
                                <div class="stat-item cursor-pointer hover:scale-105 transition-transform duration-200">
                                    <div class="text-3xl font-bold text-white mb-1" data-target="256">0</div>
                                    <div class="text-white/80 text-sm">-bit Encryption</div>
                                </div>
                                <div class="stat-item cursor-pointer hover:scale-105 transition-transform duration-200">
                                    <div class="text-3xl font-bold text-white mb-1">24/7</div>
                                    <div class="text-white/80 text-sm">Support</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>


        <section id="about" class="content-section hidden">
            <div class="font-sans bg-light dark:bg-slate-900 text-gray-800 dark:text-slate-200 antialiased">
                <!-- Ultra-Modern About Section -->
                <section class="relative py-32 px-4 md:px-10 lg:px-20 overflow-hidden noise">
                    <!-- Floating elements -->
                    <div
                        class="absolute top-20 left-10 w-32 h-32 rounded-full bg-primary/10 dark:bg-blue-400/10 blur-3xl -z-10">
                    </div>
                    <div
                        class="absolute bottom-1/4 right-20 w-40 h-40 rounded-full bg-secondary/10 dark:bg-purple-400/10 blur-3xl -z-10">
                    </div>

                    <!-- Grid background -->
                    <div class="absolute inset-0 grid-pattern -z-20 dark:opacity-10"></div>

                    <div class="max-w-7xl mx-auto relative">
                        <div class="text-center mb-20">
                            <span
                                class="inline-block px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-primary dark:text-indigo-300 rounded-full font-medium mb-4">Who
                                We Are</span>
                            <h2 class="text-4xl md:text-5xl  text-gray-900 dark:text-white mb-4" style="font-weight: bold;">Crafting <span
                                    class="gradient-text">Digital security</span></h2>
                            <p class="max-w-2xl mx-auto text-gray-600 dark:text-slate-400 text-lg">We combine innovation
                             We combine innvovation with strong encryption to deliver a password manager you can trust.</p>
                        </div>

                        <div class="flex flex-col lg:flex-row items-stretch gap-12 lg:gap-16">
                            <div class="lg:w-1/2 relative">
                                <div class="relative group">
                                    <div
                                        class="absolute -inset-4 bg-gradient-to-r from-primary to-secondary rounded-3xl opacity-20 dark:opacity-10 blur-xl group-hover:opacity-30 dark:group-hover:opacity-20 transition duration-500">
                                    </div>
                                    <div class="relative rounded-2xl overflow-hidden hover-3d">
                                        <img src="https://images.unsplash.com/photo-1579389083078-4e7018379f7e"
                                            alt="Our Team" class="w-full h-auto object-cover aspect-video">
                                        <div
                                            class="absolute inset-0 bg-gradient-to-t from-dark/80 dark:from-slate-900/90 via-transparent to-transparent flex items-end p-8">
                                            <div
                                                class="glass-card p-6 rounded-xl w-full dark:bg-slate-800/70 dark:backdrop-blur-md">
                                                <div class="flex items-center">
                                                    <div
                                                        class="bg-primary dark:bg-indigo-600 p-3 rounded-lg text-white mr-4">
                                                        <i class="fas fa-medal text-xl"></i>
                                                    </div>
                                                    <div>
                                                        <h4 class="font-bold text-white text-lg">üõ° Award-Winning Security
                                                        </h4>
                                                        <p class="text-gray-300 text-sm">Recognized for advanced encryption & zero-knowledge architecture.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-2 gap-6 mt-8">
                                    <div
                                        class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg flex flex-col items-center text-center hover-3d">
                                        <div class="text-4xl font-display font-bold gradient-text mb-3">10+</div>
                                        <h4 class="font-semibold text-dark dark:text-white mb-2">Years Secured</h4>
                                        <p class="text-gray-600 dark:text-slate-400 text-sm">Protecting users‚Äô digital identities since 2013.</p>
                                    </div>
                                    <div
                                        class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg flex flex-col items-center text-center hover-3d">
                                        <div class="text-4xl font-display font-bold gradient-text mb-3">200+</div>
                                        <h4 class="font-semibold text-dark dark:text-white mb-2">Passwords Stored</h4>
                                        <p class="text-gray-600 dark:text-slate-400 text-sm">Trusted by users across 14+ countries.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="lg:w-1/2 flex flex-col">
                                <div class="flex-1">
                                    <h3
                                        class="text-3xl md:text-4xl font-display font-bold text-dark dark:text-white mb-8 leading-tight">
                                        Where <span class="gradient-text">Vision</span> Meets Execution
                                    </h3>
                                    <p class="text-gray-600 dark:text-slate-400 mb-8 leading-relaxed text-lg">
                                       At the intersection of security and usability, Password Vault keeps your digital life safe while making login management effortless.

                                    </p>

                                    <div class="space-y-6 mb-10">
                                        <div
                                            class="flex items-start p-5 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover-3d border border-gray-100 dark:border-slate-700">
                                            <div
                                                class="bg-gradient-to-r from-primary to-secondary p-3 rounded-lg text-white mr-5 flex-shrink-0">
                                                <i class="fas fa-bolt text-xl"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-semibold text-dark dark:text-white text-lg mb-2">
                                                   Next-Gen Encryption</h4>
                                                <p class="text-gray-600 dark:text-slate-400">
End-to-end protection using AES-256 and zero-knowledge security.
</p>
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-start p-5 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover-3d border border-gray-100 dark:border-slate-700">
                                            <div
                                                class="bg-gradient-to-r from-primary to-secondary p-3 rounded-lg text-white mr-5 flex-shrink-0">
                                                <i class="fas fa-fingerprint text-xl"></i>
                                            </div>
                                            <div>
                                                <h4 class="font-semibold text-dark dark:text-white text-lg mb-2">
                                                  Tailored Vaults</h4>
                                                <p class="text-gray-600 dark:text-slate-400">Custom vaults designed for individuals, teams, and businesses.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="flex flex-wrap gap-4 mt-auto">
                                    <button
                                        class="relative overflow-hidden group bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl">
                                        <span class="relative z-10 flex items-center">
                                            Try Password Vault<i
                                                class="fas fa-arrow-right ml-3 transition-transform duration-300 group-hover:translate-x-1"></i>
                                        </span>
                                        <span
                                            class="absolute inset-0 bg-gradient-to-r from-primary-dark to-secondary-dark opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                    </button>
                                    <button
                                        class="group bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 text-dark dark:text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 border-2 border-gray-200 dark:border-slate-600 shadow-sm hover:shadow-md flex items-center">
                                        <i class="fas fa-play-circle mr-3 text-xl gradient-text"></i>
                                        <span>See How Its Works</span>
                                        <i
                                            class="fas fa-external-link-alt ml-2 text-xs opacity-70 group-hover:opacity-100 transition duration-300"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Ultra-Modern Footer Section -->
                <footer
                    class="relative bg-dark dark:bg-slate-900 text-gray-300 dark:text-slate-400 pt-24 pb-12 px-4 md:px-10 overflow-hidden noise">
                    <!-- Floating elements -->
                    <div
                        class="absolute top-1/3 left-1/4 w-48 h-48 rounded-full bg-primary/10 dark:bg-blue-400/10 blur-3xl -z-10">
                    </div>
                    <div
                        class="absolute bottom-1/4 right-1/3 w-64 h-64 rounded-full bg-secondary/10 dark:bg-purple-400/10 blur-3xl -z-10">
                    </div>

                    <!-- Grid background -->
                    <div class="absolute inset-0 grid-pattern -z-20 dark:opacity-10"></div>

                    <!-- Main footer content -->
                    <div class="max-w-7xl mx-auto relative">
                        <div class="flex flex-col lg:flex-row justify-between items-start mb-16 gap-12">
                            <!-- Logo and description -->
                            <div class="lg:w-2/5">
                                <a href="#" class="flex items-center text-3xl font-display font-bold text-white mb-8">
                                    <span
                                        class="bg-gradient-to-r from-primary to-secondary p-2 rounded-xl mr-3 shadow-lg">
                                        <i class="fas fa-lock text-white"></i>
                                    </span>
                                    <span>Password_</span><span class="gradient-text">Vault</span>
                                </a>
                                <p class="text-gray-400 dark:text-slate-400 mb-8 leading-relaxed text-lg">
                                    Your trusted password manager with military-grade encryption and cutting-edge
                                    security
                                    features.
                                </p>

                                <!-- Social links with hover effects -->
                                <div class="flex space-x-4">
                                    <a href="#"
                                        class="relative group bg-gray-800 dark:bg-slate-800 hover:bg-gradient-to-br from-primary to-secondary text-gray-300 dark:text-slate-400 hover:text-white h-12 w-12 rounded-xl flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl">
                                        <i class="fab fa-twitter text-lg"></i>
                                    </a>
                                    <a href="#"
                                        class="relative group bg-gray-800 dark:bg-slate-800 hover:bg-gradient-to-br from-primary to-secondary text-gray-300 dark:text-slate-400 hover:text-white h-12 w-12 rounded-xl flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl">
                                        <i class="fab fa-linkedin-in text-lg"></i>
                                    </a>
                                    <a href="#"
                                        class="relative group bg-gray-800 dark:bg-slate-800 hover:bg-gradient-to-br from-primary to-secondary text-gray-300 dark:text-slate-400 hover:text-white h-12 w-12 rounded-xl flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl">
                                        <i class="fab fa-github text-lg"></i>
                                    </a>
                                </div>
                            </div>

                            <!-- Links grid -->
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-10 lg:w-3/5">
                                <!-- Column 1 -->
                                <div>
                                    <h3 class="text-white text-lg font-display font-bold mb-6 uppercase tracking-wider">
                                        Product</h3>
                                    <ul class="space-y-4">
                                        <li>
                                            <a href="#vault"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Password Vault
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#generator"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Password Generator
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#security"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Security Dashboard
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Browser Extension
                                            </a>
                                        </li>
                                    </ul>
                                </div>

                                <!-- Column 2 -->
                                <div>
                                    <h3 class="text-white text-lg font-display font-bold mb-6 uppercase tracking-wider">
                                        Resources</h3>
                                    <ul class="space-y-4">
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-secondary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Documentation
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-secondary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Security Whitepaper
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-secondary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Blog
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-secondary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Support Center
                                            </a>
                                        </li>
                                    </ul>
                                </div>

                                <!-- Column 3 -->
                                <div>
                                    <h3 class="text-white text-lg font-display font-bold mb-6 uppercase tracking-wider">
                                        Company</h3>
                                    <ul class="space-y-4">
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                About Us
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Careers
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Privacy Policy
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="flex items-center group text-gray-400 dark:text-slate-400 hover:text-white transition duration-300">
                                                <span
                                                    class="w-2 h-2 bg-primary rounded-full mr-3 opacity-0 group-hover:opacity-100 transition duration-300"></span>
                                                Contact Us
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Newsletter -->
                        <!-- ‚úÖ Newsletter / Feedback Section -->
                        <div class="gradient-border rounded-2xl p-8 md:p-10 mb-16 relative">
                            <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                                <div class="md:w-1/2">
                                    <h3 class="text-white text-2xl md:text-3xl font-display font-bold mb-3">Stay Updated
                                    </h3>
                                    <p class="text-gray-400 dark:text-slate-400">Stay ahead in security give feedback, get updates, and explore more.</p>
                                </div>
                                <form id="feedbackForm" class="md:w-1/2 w-full">
                                    <div class="flex flex-col sm:flex-row gap-4">
                                        <input type="text" name="message" placeholder="Enter your Feedback"
                                            class="flex-1 bg-gray-900 dark:bg-slate-800 border border-gray-700 dark:border-slate-600 rounded-xl px-5 py-4 text-white focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent placeholder-gray-500 dark:placeholder-slate-400"
                                            required>
                                        <button id="submitBtn" type="submit"
                                            class="relative overflow-hidden group bg-gradient-to-r from-primary to-secondary hover:from-primary-dark hover:to-secondary-dark text-white font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl whitespace-nowrap flex items-center justify-center">
                                            <span id="btnText" class="relative z-10">Submit Feedback</span>



                                            <div id="loadingSpinner"
                                                class="hidden w-6 h-6 ml-2 border-2 border-blue-200 border-t-transparent rounded-full animate-spin">
                                            </div>


                                        </button>
                                    </div>
                                </form>
                            </div>

                            <!-- ‚úÖ Success Popup -->
                            <!-- Success Popup -->
                            <div id="successPopup"
                                class="fixed top-6 right-[-400px] bg-green-600 text-white px-6 py-4 rounded-xl shadow-lg transition-all duration-500 ease-in-out flex items-center gap-3">

                                <!-- ‚úÖ Success Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                                    viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10" fill="#22c55e" />
                                    <path d="M16.2 9.2l-4.6 5-2.2-2.2" stroke="#fff" stroke-width="2.2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>

                                <span>Feedback sent successfully!</span>
                            </div>

                        </div>

                        <!-- Bottom bar -->
                        <div
                            class="border-t border-gray-800 dark:border-slate-700 pt-8 flex flex-col md:flex-row justify-between items-center">
                            <p class="text-gray-500 dark:text-slate-500 text-sm mb-4 md:mb-0">
                                &copy; 2025 Password_vault. All rights reserved.
                            </p>
                            <div class="flex flex-wrap justify-center gap-4 md:gap-6">
                                <a href="#"
                                    class="text-gray-500 dark:text-slate-500 hover:text-white text-sm transition duration-300 flex items-center">
                                    <i class="fas fa-shield-alt mr-1.5 text-xs"></i> Privacy Policy
                                </a>
                                <a href="#"
                                    class="text-gray-500 dark:text-slate-500 hover:text-white text-sm transition duration-300 flex items-center">
                                    <i class="fas fa-file-contract mr-1.5 text-xs"></i> Terms
                                </a>
                                <a href="#"
                                    class="text-gray-500 dark:text-slate-500 hover:text-white text-sm transition duration-300 flex items-center">
                                    <i class="fas fa-cookie mr-1.5 text-xs"></i> Cookies
                                </a>
                                <a href="#"
                                    class="text-gray-500 dark:text-slate-500 hover:text-white text-sm transition duration-300 flex items-center">
                                    <i class="fas fa-sitemap mr-1.5 text-xs"></i> Sitemap
                                </a>
                            </div>
                        </div>
                    </div>
                </footer>

            </div>

        </section>
        <!-- Single Scroll Button -->
        <button class="back-to-top" aria-label="Back to top">
            <svg class="svgIcon" viewBox="0 0 384 512">
                <path
                    d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z" />
            </svg>
        </button>

    </main>


    <script>

        //delete section st

        //delete section end


        // toogle right side nav bar
        // Load icons
        lucide.createIcons();

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');

            const isOpen = !sidebar.classList.contains('translate-x-full');

            if (isOpen) {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 300);
            } else {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
            }
        }

        function logout() {
            alert('Logged out!');
            toggleSidebar();
        }

        // toogle right side nav bar end



        //scroll icon st

        document.addEventListener('DOMContentLoaded', function () {
            const backToTopButton = document.querySelector('.back-to-top');

            // Show/hide button based on scroll position
            window.addEventListener('scroll', function () {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });

            // Smooth scroll to top
            backToTopButton.addEventListener('click', function (e) {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
        //scroll icon end

        // section page
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });

            document.getElementById(sectionId).classList.remove('hidden');
        }
        //section page end
        // hover wala style start

        function setActiveMenu(clickedItem) {
            // Remove active background from all menu items
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('bg-white/10');
                item.classList.add('hover:bg-white/10');
            });
            // Add active background to clicked item
            clickedItem.classList.add('bg-white/10');
            clickedItem.classList.remove('hover:bg-white/10');
            // Close mobile menu if open
            document.getElementById('mobile-menu').classList.add('hidden');
        }
        // hover wala style end




        // index.html string 

        // Initialize Lucide icons
        lucide.createIcons();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Handle Get Started button
        function handleGetStarted() {
            toggleModal();
        }

        // Feature card click handlers
        document.querySelectorAll('.feature-card').forEach(card => {
            card.addEventListener('click', () => {
                const title = card.querySelector('h3').textContent;
                alert(`Learn more about: ${title}`);
            });
        });

        // Animated counter for stats
        function animateCounter(element, target, duration = 2000) {
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }

                if (target === 10000000) {
                    element.textContent = Math.floor(current / 1000000) + 'M+';
                } else if (target === 99.9) {
                    element.textContent = current.toFixed(1) + '%';
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 16);
        }

        // Intersection Observer for stats animation
        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const statItems = entry.target.querySelectorAll('.stat-item');
                    statItems.forEach(item => {
                        const counter = item.querySelector('[data-target]');
                        if (counter && !counter.classList.contains('animated')) {
                            counter.classList.add('animated');
                            const target = parseFloat(counter.dataset.target);
                            animateCounter(counter, target);
                        }
                    });
                    statsObserver.unobserve(entry.target);
                }
            });
        });

        // Observe stats section
        const statsSection = document.querySelector('.grid.grid-cols-2.md\\:grid-cols-4');
        if (statsSection) {
            statsObserver.observe(statsSection.parentElement);
        }

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Add floating animation to background elements
        function addFloatingAnimation() {
            const floatingElements = document.querySelectorAll('.absolute.rounded-full');
            floatingElements.forEach((element, index) => {
                setInterval(() => {
                    const randomX = Math.random() * 10 - 5;
                    const randomY = Math.random() * 10 - 5;
                    element.style.transform = `translate(${randomX}px, ${randomY}px)`;
                }, 3000 + index * 500);
            });
        }

        // Initialize animations when page loads
        window.addEventListener('load', () => {
            addFloatingAnimation();
        });

        // Add keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
        });

        // Modal functions
        function toggleModal() {
            const modal = document.getElementById("loginModal");
            modal.classList.toggle("hidden");
            // Show login form by default when modal opens
            showLoginForm();
        }

        function showRegisterForm() {
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('register-form').classList.remove('hidden');
            document.getElementById('login-footer').classList.add('hidden');
            document.getElementById('register-footer').classList.remove('hidden');
        }

        function showLoginForm() {
            document.getElementById('register-form').classList.add('hidden');
            document.getElementById('login-form').classList.remove('hidden');
            document.getElementById('register-footer').classList.add('hidden');
            document.getElementById('login-footer').classList.remove('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            // Add your login logic here
            console.log('Login form submitted');
        }

        function handleRegister(e) {
            e.preventDefault();
            // Add your registration logic here
            console.log('Register form submitted');
        }
        //index.html end




        //Login sign_in   st

        // Initialize Lucide icons
        lucide.createIcons();

        const firebaseConfig = {
            apiKey: "AIzaSyCbudfv-65ZnXFu61eZiaivHOCuWYIL0ck",
            authDomain: "password-vault-8dad1.firebaseapp.com",
            projectId: "password-vault-8dad1",
            storageBucket: "password-vault-8dad1.firebasestorage.app",
            messagingSenderId: "329082512447",
            appId: "1:329082512447:web:6dc11852e51acd40c5c48a"
        };

        // Initialize Firebase only once
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();

        // Function to update user profile in UI

        function updateUserProfile(user) {
            const avatar = document.getElementById("user-avatar");
            const icon = document.getElementById("user-icon");
            const name = document.getElementById("user-name");
            const email = document.getElementById("user-email");
            const profileSection = document.getElementById("profile-section");

            if (user) {
                // Avatar show kare agar photoURL available hai
                if (user.photoURL) {
                    avatar.src = user.photoURL;
                    avatar.classList.remove("hidden");
                    icon.classList.add("hidden");
                } else {
                    avatar.classList.add("hidden");
                    icon.classList.remove("hidden");
                }

                // User info
                name.textContent = user.displayName || "User";
                email.textContent = user.email || "";

                // Show profile section
                profileSection.classList.remove("hidden");
            } else {
                // Reset
                avatar.classList.add("hidden");
                icon.classList.remove("hidden");
                name.textContent = "";
                email.textContent = "";

                // Hide section
                profileSection.classList.add("hidden");
            }
        }

        // Check auth state on page load
        auth.onAuthStateChanged((user) => {
            updateUserProfile(user);
        });

        // Modified Google Sign-In Function
        async function loadGoogle() {
            const text = document.getElementById("googleText");
            const spinner = document.getElementById("googleSpinner");
            const button = document.getElementById("googleBtn");

            try {
                // Show loading state
                text.classList.add("hidden");
                spinner.classList.remove("hidden");
                button.disabled = true;

                const provider = new firebase.auth.GoogleAuthProvider();
                const result = await auth.signInWithPopup(provider);

                const idToken = await result.user.getIdToken();

                // Send token to backend
                const response = await fetch('/auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ token: idToken })
                });

                let data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || `Server error: ${response.status}`);
                }

                if (data.success) {
                    // Update UI with user info
                    updateUserProfile(result.user);


                    // Update user status to Active (green)
                    const userStatus = document.getElementById('userStatus');
                    if (userStatus) {
                        userStatus.textContent = 'Active';
                        userStatus.classList.remove('text-red-600', 'dark:text-red-600', 'dark:text-red-500');
                        userStatus.classList.add('text-green-600', 'dark:text-green-400', 'dark:text-green-500');
                    }

                    // Update "Member since" to current month and year
                    const memberSince = document.getElementById('memberSince');
                    if (memberSince) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short' };
                        memberSince.textContent = now.toLocaleDateString('en-US', options);
                    }


                    // Show "Google Account" in password field
                    const profilePassword = document.getElementById('profilePassword');
                    if (profilePassword) {
                        profilePassword.value = 'Google Account';
                    }


                    // Hide Login button, show Dashboard button
                    document.getElementById("loginBtn").classList.add("hidden");
                    document.getElementById("dashboardBtn").classList.remove("hidden");
                    document.getElementById("loginBtnMobile").classList.add("hidden");
                    document.getElementById("dashboardBtnMobile").classList.remove("hidden");

                    // Show success message but DON'T redirect automatically
                    alert(`Welcome, ${result.user.displayName}! Click Dashboard to continue.`);
                } else {
                    throw new Error(data.error || 'Authentication failed');
                }
            } catch (error) {
                console.error("Sign-in error:", error);
                alert(`Sign-in error: ${error.message}`);
            } finally {
                // Reset button state
                text.classList.remove("hidden");
                spinner.classList.add("hidden");
                button.disabled = false;
            }
        }
        // Dashboard Sidebar Toggle Function
        function toggleDashboardSidebar() {
            const sidebar = document.getElementById("dashboardSidebar");
            sidebar.classList.toggle("hidden");

            // Refresh Lucide icons if needed
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }
        // Dashboard Sidebar Toggle Functio
        function updateAuthUI(isLoggedIn) {
            const loginBtn = document.getElementById('loginBtn');
            const dashboardBtn = document.getElementById('dashboardBtn');
            const loginBtnMobile = document.getElementById('loginBtnMobile'); // Add this ID to your mobile login button
            const dashboardBtnMobile = document.getElementById('dashboardBtnMobile');

            if (isLoggedIn) {
                loginBtn.classList.add('hidden');
                dashboardBtn.classList.remove('hidden');
                loginBtnMobile.classList.add('hidden');
                dashboardBtnMobile.classList.remove('hidden');
            } else {
                loginBtn.classList.remove('hidden');
                dashboardBtn.classList.add('hidden');
                loginBtnMobile.classList.remove('hidden');
                dashboardBtnMobile.classList.add('hidden');
            }

            // Refresh Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // GitHub Sign-In function (updated to match Google version)
        async function loadGithub() {
            const text = document.getElementById("githubText");
            const spinner = document.getElementById("githubSpinner");
            const button = document.getElementById("githubBtn");

            try {
                // Show loading state
                text.classList.add("hidden");
                spinner.classList.remove("hidden");
                button.disabled = true;

                const provider = new firebase.auth.GithubAuthProvider();
                // Request user email from GitHub
                provider.addScope('user:email');
                const result = await auth.signInWithPopup(provider);

                console.log("GitHub sign-in success", result.user);

                // Get the user's ID token
                const idToken = await result.user.getIdToken();

                // Send token to your backend for verification
                const response = await fetch('/auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ token: idToken })
                });

                let data;
                try {
                    data = await response.json();
                } catch (jsonError) {
                    console.error("JSON parsing error:", jsonError);
                    throw new Error("Unexpected response from server");
                }

                if (!response.ok) {
                    throw new Error(data.error || `Server error: ${response.status}`);
                }

                if (data.success) {
                    // Update UI with user info
                    updateUserProfile(result.user);



                    // Inside loadGithub, after: if (data.success) { ... }
                    const userStatus = document.getElementById('userStatus');
                    if (userStatus) {
                        userStatus.textContent = 'Active';
                        userStatus.classList.remove('text-red-600', 'dark:text-red-500');
                        userStatus.classList.add('text-green-600', 'dark:text-green-500');
                    }


                    // Update "Member since" to current month and year
                    const memberSince = document.getElementById('memberSince');
                    if (memberSince) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short' };
                        memberSince.textContent = now.toLocaleDateString('en-US', options);
                    }


                    // ...inside loadGithub, after if (data.success) { ... }
                    window.loggedInPassword = "GitHub Account";
                    const profilePassword = document.getElementById('profilePassword');
                    if (profilePassword) {
                        profilePassword.value = 'GitHub Account';
                    }

                    // Hide Login button, show Dashboard button
                    document.getElementById("loginBtn").classList.add("hidden");
                    document.getElementById("dashboardBtn").classList.remove("hidden");
                    document.getElementById("loginBtnMobile").classList.add("hidden");
                    document.getElementById("dashboardBtnMobile").classList.remove("hidden");

                    // Show success message but don't redirect automatically
                    const displayName = result.user.displayName ||
                        result.user.email ||
                        'GitHub User';
                    alert(`Welcome, ${displayName}! Click Dashboard to continue.`);
                } else {
                    throw new Error(data.error || 'Authentication failed');
                }
            } catch (error) {
                console.error("GitHub sign-in error:", error);
                // Show error message
                alert(`Sign-in error: ${error.message.includes('Unexpected token') ?
                    'Invalid server response' : error.message}`);
            } finally {
                // Reset button state
                text.classList.remove("hidden");
                spinner.classList.add("hidden");
                button.disabled = false;
            }
        }
        //login sign_in end       



        // Registration google and github st


        // Google Sign-In for Registration
        async function signInWithGoogle() {
            const text = document.getElementById("registerGoogleText");
            const spinner = document.getElementById("registerGoogleSpinner");
            const button = document.getElementById("registerGoogleBtn");

            try {
                // Show loading state
                text.classList.add("hidden");
                spinner.classList.remove("hidden");
                button.disabled = true;

                const provider = new firebase.auth.GoogleAuthProvider();
                const result = await auth.signInWithPopup(provider);
                const idToken = await result.user.getIdToken();

                // Send token to backend
                const response = await fetch('/auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ token: idToken })
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.error || `Server error: ${response.status}`);
                }

                if (data.success) {


                    // Update user status to Active (green)
                    const userStatus = document.getElementById('userStatus');
                    if (userStatus) {
                        userStatus.textContent = 'Active';
                        userStatus.classList.remove('text-red-600', 'dark:text-red-600', 'dark:text-red-500');
                        userStatus.classList.add('text-green-600', 'dark:text-green-400', 'dark:text-green-500');
                    }


                    // Update "Member since" to current month and year
                    const memberSince = document.getElementById('memberSince');
                    if (memberSince) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short' };
                        memberSince.textContent = now.toLocaleDateString('en-US', options);
                    }


                    // Hide Login button, show Dashboard button
                    document.getElementById("loginBtn").classList.add("hidden");
                    document.getElementById("dashboardBtn").classList.remove("hidden");
                    document.getElementById("loginBtnMobile").classList.add("hidden");
                    document.getElementById("dashboardBtnMobile").classList.remove("hidden");

                    // Show success message but don't redirect automatically
                    alert(`Welcome, ${result.user.displayName}! Click Dashboard to continue.`);
                } else {
                    throw new Error(data.error || 'Authentication failed');
                }
            } catch (error) {
                console.error("Sign-in error:", error);
                alert(`Sign-in error: ${error.message}`);
            } finally {
                // Reset button state
                if (text) text.classList.remove("hidden");
                if (spinner) spinner.classList.add("hidden");
                if (button) button.disabled = false;
            }
        }
        // GitHub Sign-In for Registration
        async function signInWithGitHub() {
            const text = document.getElementById("registerGithubText");
            const spinner = document.getElementById("registerGithubSpinner");
            const button = document.getElementById("registerGithubBtn");

            try {
                // Show loading state
                text.classList.add("hidden");
                spinner.classList.remove("hidden");
                button.disabled = true;

                const provider = new firebase.auth.GithubAuthProvider();
                const result = await auth.signInWithPopup(provider);
                const idToken = await result.user.getIdToken();

                // Send token to backend
                const response = await fetch('/auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ token: idToken })
                });

                let data;
                try {
                    data = await response.json();
                } catch (jsonError) {
                    console.error("JSON parsing error:", jsonError);
                    throw new Error("Unexpected response from server");
                }

                if (!response.ok) {
                    throw new Error(data.error || `Server error: ${response.status}`);
                }

                if (data.success) {


                    // Update user status to Active (green)
                    const userStatus = document.getElementById('userStatus');
                    if (userStatus) {
                        userStatus.textContent = 'Active';
                        userStatus.classList.remove('text-red-600', 'dark:text-red-600', 'dark:text-red-500');
                        userStatus.classList.add('text-green-600', 'dark:text-green-400', 'dark:text-green-500');
                    }


                    // Update "Member since" to current month and year
                    const memberSince = document.getElementById('memberSince');
                    if (memberSince) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short' };
                        memberSince.textContent = now.toLocaleDateString('en-US', options);
                    }


                    // Hide Login button, show Dashboard button
                    document.getElementById("loginBtn").classList.add("hidden");
                    document.getElementById("dashboardBtn").classList.remove("hidden");
                    document.getElementById("loginBtnMobile").classList.add("hidden");
                    document.getElementById("dashboardBtnMobile").classList.remove("hidden");

                    // Show success message but don't redirect automatically
                    alert(`Welcome, ${result.user.displayName || result.user.email}! Click Dashboard to continue.`);
                } else {
                    throw new Error(data.error || 'Authentication failed');
                }
            } catch (error) {
                console.error("Sign-in error:", error);
                alert(`Sign-in error: ${error.message.includes('Unexpected token') ?
                    'Invalid server response' : error.message}`);
            } finally {
                // Reset button state
                if (text) text.classList.remove("hidden");
                if (spinner) spinner.classList.add("hidden");
                if (button) button.disabled = false;
            }
        }
        // Registration google and github end



        //email and psd 

        function updateUserProfile(userData) {
            const profileSection = document.getElementById('profile-section');
            const userAvatar = document.getElementById('user-avatar');
            const userName = document.getElementById('user-name');
            const userEmail = document.getElementById('user-email');

            if (userData) {
                // Update profile elements
                userAvatar.src = userData.photoURL || 'https://via.placeholder.com/40';
                userName.textContent = userData.displayName;
                userEmail.textContent = userData.email;

                // Show the profile section
                profileSection.classList.remove('hidden');
                profileSection.classList.add('flex');

                // Hide login button and show dashboard button
                document.getElementById("loginBtn").classList.add("hidden");
                document.getElementById("dashboardBtn").classList.remove("hidden");
                document.getElementById("loginBtnMobile").classList.add("hidden");
                document.getElementById("dashboardBtnMobile").classList.remove("hidden");
            } else {
                // Hide the profile section if no user data
                profileSection.classList.add('hidden');
                profileSection.classList.remove('flex');
            }
        }

        // Modal functions
        function openRegisterModal() {
            document.getElementById('registerModal').classList.remove('hidden');
        }

        function closeRegisterModal() {
            document.getElementById('registerModal').classList.add('hidden');
        }

        function openLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
        }

        function openLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
            document.getElementById('login-modal').classList.add('flex');
        }

        function closeRegisterModal() {
            document.getElementById('register-modal').classList.add('hidden');
            document.getElementById('register-modal').classList.remove('flex');
            document.getElementById('register-form').reset();

            // Clear any existing error messages
            const errorElement = document.getElementById('register-error');
            if (errorElement) errorElement.remove();
        }

        // Handle Registration Form
        // Handle Registration Form
        async function handleRegister(event) {
            event.preventDefault();

            const registerButton = event.target.querySelector('button[type="submit"]');
            const originalText = registerButton.innerHTML;
            registerButton.disabled = true;
            registerButton.innerHTML = 'Creating Account... <span class="loader"></span>';

            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                password: document.getElementById('password').value,
                confirmPassword: document.getElementById('confirmPassword').value
            };

            try {
                const response = await fetch('/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();

                if (data.success) {

                    // 1. Show success alert
                    alert('Registration successful! You can Login.');
                    // Clear the form
                    event.target.reset();

                    // Close register modal after slight delay
                    setTimeout(() => {
                        closeRegisterModal();

                        // Open login modal and pre-fill email
                        openLoginModal();
                        document.getElementById('modal-email').value = formData.email;

                        // Show success message in login modal
                        const loginForm = document.getElementById('login-form');
                        const successMessage = document.createElement('div');
                        successMessage.className = 'mb-4 p-3 bg-green-100 text-green-700 rounded';
                        successMessage.textContent = 'Registration successful! Please login.';
                        loginForm.insertBefore(successMessage, loginForm.firstChild);

                        // Remove message after 5 seconds
                        setTimeout(() => {
                            successMessage.remove();
                        }, 5000);
                    }, 500);
                } else {
                    // Show error near the form
                    const errorElement = document.getElementById('register-error');
                    if (!errorElement) {
                        const errorDiv = document.createElement('div');
                        errorDiv.id = 'register-error';
                        errorDiv.className = 'mb-4 p-3 bg-red-100 text-red-700 rounded';
                        errorDiv.textContent = data.message;
                        event.target.insertBefore(errorDiv, event.target.firstChild);

                        setTimeout(() => {
                            errorDiv.remove();
                        }, 3000); // Remove after 5 seconds
                    } else {
                        errorElement.textContent = data.message;
                    }
                }
            } catch (error) {
                console.error('Registration error:', error);
                alert('Registration failed. Please try again later.');
            } finally {
                registerButton.disabled = false;
                registerButton.innerHTML = originalText;
            }
        }




        // Handle Login Form
        async function handleLogin(event) {
            event.preventDefault();
            const loginButton = event.target.querySelector('button[type="submit"]');
            const originalText = document.getElementById('login-button-text').innerHTML;
            loginButton.disabled = true;
            document.getElementById('login-button-text').innerHTML = 'Signing In... <span class="loader"></span>';

            const formData = {
                email: document.getElementById('modal-email').value,
                password: document.getElementById('modal-password').value
            };

            try {
                const response = await fetch('/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();

                if (data.success) {
                    window.loggedInPassword = formData.password;
                    updateUserProfile({
                        displayName: data.user?.displayName ||
                            data.user?.name ||
                            formData.email.split('@')[0],
                        email: formData.email,
                        photoURL: data.user?.photoURL || 'https://via.placeholder.com/40',
                        password: formData.password
                    });

                    // Update user status to Active (green)
                    const userStatus = document.getElementById('userStatus');
                    if (userStatus) {
                        userStatus.textContent = 'Active';
                        userStatus.classList.remove('text-red-600', 'dark:text-red-500');
                        userStatus.classList.add('text-green-600', 'dark:text-green-500');
                    }

                    // Update "Member since" to current month and year
                    const memberSince = document.getElementById('memberSince');
                    if (memberSince) {
                        const now = new Date();
                        const options = { year: 'numeric', month: 'short' };
                        memberSince.textContent = now.toLocaleDateString('en-US', options);
                    }

                    closeLoginModal();

                    const userName = data.user?.displayName ||
                        data.user?.name ||
                        formData.email.split('@')[0] ||
                        'User';
                    alert(`Welcome back, ${userName}!`);
                } else {
                    throw new Error(data.message || 'Login failed. Please try again.');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert(error.message || 'An error occurred. Please try again.');
            } finally {
                loginButton.disabled = false;
                document.getElementById('login-button-text').innerHTML = originalText;
            }
        }

        // Remove or modify the onLoginSuccess function since we're handling it differently now
        function onLoginSuccess() {
            // This is now handled in the handleLogin function
            console.log("Login successful - dashboard button should be visible");
        }

        // Example of how you might call this after Firebase auth
        function handleAuthSuccess(user) {
            fetch('/auth', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ token: user.getIdToken() })
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        onLoginSuccess();
                    }
                });
        }

        //Account logout section

        // Utility function to show toast notifications
        function showToast(message, type = 'success') {
            // Remove any existing toasts first
            const existingToast = document.getElementById('toast-notification');
            if (existingToast) {
                existingToast.remove();
            }

            const toast = document.createElement('div');
            toast.id = 'toast-notification';
            toast.className = `fixed bottom-4 right-4 px-4 py-2 rounded-md shadow-lg text-white ${type === 'error' ? 'bg-red-500' : 'bg-green-500'
                }`;
            toast.textContent = message;
            document.body.appendChild(toast);

            // Auto-remove after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Function to update UI based on auth state
        function updateAuthUI(isLoggedIn) {
            // Example implementation - adjust based on your actual UI elements
            const authElements = document.querySelectorAll('[data-auth]');
            authElements.forEach(el => {
                if (isLoggedIn) {
                    el.classList.remove('hidden');
                } else {
                    el.classList.add('hidden');
                }
            });
        }
        async function logout() {
            const logoutBtn = document.querySelector('.logout-btnn');
            const originalBtnContent = logoutBtn.innerHTML;

            try {
                logoutBtn.disabled = true;
                logoutBtn.innerHTML = `
            <span class="flex items-center justify-center gap-2">
                <i data-lucide="loader" class="h-5 w-5 animate-spin"></i>
                Logging out...
            </span>
        `;

                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }

                if (typeof firebase !== 'undefined' && firebase.auth) {
                    await firebase.auth().signOut();
                }

                const response = await fetch('/logout', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': document.querySelector('meta[name="csrf-token"]')?.content || ''
                    },
                    credentials: 'same-origin'
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.message || 'Logout failed');
                }

                // Update user status to Inactive (red)
                const userStatus = document.getElementById('userStatus');
                if (userStatus) {
                    userStatus.textContent = 'Inactive';
                    userStatus.classList.remove('text-green-600', 'dark:text-green-500');
                    userStatus.classList.add('text-red-600', 'dark:text-red-500');
                }

                showToast('Logged out successfully', 'success');
                setTimeout(() => {
                    window.location.href = '/';
                }, 1000);

            } catch (error) {
                console.error('Logout error:', error);

                logoutBtn.innerHTML = `
            <span class="flex items-center justify-center gap-2">
                <i data-lucide="alert-circle" class="h-5 w-5 text-red-300"></i>
                Logout Failed - Try Again
            </span>
        `;
                logoutBtn.disabled = false;

                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }

                showToast('Logout failed: ' + error.message, 'error');

                setTimeout(() => {
                    logoutBtn.innerHTML = originalBtnContent;
                    logoutBtn.disabled = false;
                    if (typeof lucide !== 'undefined') {
                        lucide.createIcons();
                    }
                }, 3000);
            }
        }


        //frr,tglrtg,lrerkerwmrfwewefjwerkrgrntg helo

        function showUserProfile(userData, isReturning = false) {
            authSection.style.display = 'none';
            userProfile.classList.add('show');
            document.getElementById('user-avatar').src = userData.picture;
            document.getElementById('user-name').textContent = userData.name;
            document.getElementById('user-email').textContent = userData.email;
            if (isReturning) {
                welcomeMessage.classList.remove('hidden');
                setTimeout(() => {
                    welcomeMessage.classList.add('hidden');
                }, 5000); // Hide after 5 seconds
            }
            showMessage('Successfully signed in!', 'success');
        }

        function showAuthSection() {
            authSection.style.display = 'block';
            userProfile.classList.remove('show');
            welcomeMessage.classList.add('hidden');
        }





        //Help section

        const openBtn = document.getElementById('openHelpBtn');
        const closeBtn = document.getElementById('closeHelpBtnn');
        const modal = document.getElementById('helpModal');
        const modalContent = modal.querySelector('div');

        // Open modal with animation
        openBtn.addEventListener('click', () => {
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
            }, 10);
        });

        // Close modal with animation
        function closeModal() {
            modal.classList.add('opacity-0');
            modalContent.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        closeBtn.addEventListener('click', closeModal);

        // Close modal on clicking outside or pressing Escape
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });
        //end



        //securtity section st


        const securityOpenBtn = document.getElementById('openSecurityGuideBtn');
        const securityCloseBtn = document.getElementById('closeSecurityGuideBtn');
        const securityModal = document.getElementById('securityGuideModal');
        const securityModalContent = securityModal.querySelector('div');

        // Open modal with animation
        securityOpenBtn.addEventListener('click', () => {
            securityModal.classList.remove('hidden');
            setTimeout(() => {
                securityModal.classList.remove('opacity-0');
                securityModalContent.classList.remove('scale-95');
            }, 10);
        });

        // Close modal with animation
        function closeSecurityModal() {
            securityModal.classList.add('opacity-0');
            securityModalContent.classList.add('scale-95');
            setTimeout(() => {
                securityModal.classList.add('hidden');
            }, 300);
        }

        securityCloseBtn.addEventListener('click', closeSecurityModal);

        // Close modal on clicking outside or pressing Escape
        securityModal.addEventListener('click', (e) => {
            if (e.target === securityModal) {
                closeSecurityModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !securityModal.classList.contains('hidden')) {
                closeSecurityModal();
            }
        });

        //security section end



        //Deleet  Starting point

        // ...existing code...
        document.addEventListener('DOMContentLoaded', () => {
            const deleteAccountBtn = document.getElementById('deleteAccountBtn');
            const deleteConfirmModal = document.getElementById('deleteConfirmModal');
            const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
            const deleteForm = deleteConfirmModal.querySelector('form');

            // Show modal on delete button click
            deleteAccountBtn.addEventListener('click', (e) => {
                e.preventDefault();


                // Check if logged in via Google or GitHub
                const profilePassword = document.getElementById('profilePassword');
                if (profilePassword) {
                    if (profilePassword.value === 'Google Account') {
                        alert("‚ö† Account can't be deleted if logged in via Google, please Logout.");
                        return;
                    }
                    if (profilePassword.value === 'GitHub Account') {
                        alert("‚ö† Account can't be deleted if logged in via GitHub, please Logout.");
                        return;
                    }
                }

                deleteConfirmModal.classList.remove('hidden');
            });



            // Hide modal on cancel button click
            cancelDeleteBtn.addEventListener('click', () => {
                deleteConfirmModal.classList.add('hidden');
            });

            // Hide modal if clicked outside modal content
            deleteConfirmModal.addEventListener('click', (e) => {
                if (e.target === deleteConfirmModal) {
                    deleteConfirmModal.classList.add('hidden');
                }
            });

            // Handle form submission with fetch API
            deleteForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                try {
                    const response = await fetch(deleteForm.action, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({})
                    });

                    const result = await response.json();
                    if (result.success) {
                        window.location.href = '/'; // Redirect after successful deletion
                    } else {
                        alert(result.message || 'Failed to delete account');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('An error occurred while deleting the account');
                }
            });
        });
        // ...existing code...



        //Delete End point


        // password_change_section st


        // ...existing code...
        document.addEventListener('DOMContentLoaded', () => {
            // Change Password Modal logic
            const changePasswordBtn = document.getElementById('changePasswordBtn');
            const changePasswordModal = document.getElementById('changePasswordModal');
            const cancelChangePasswordBtn = document.getElementById('cancelChangePasswordBtn');
            const changePasswordForm = document.getElementById('changePasswordForm');

            changePasswordBtn.addEventListener('click', (e) => {
                e.preventDefault();
                changePasswordModal.classList.remove('hidden');
            });

            cancelChangePasswordBtn.addEventListener('click', () => {
                changePasswordModal.classList.add('hidden');
            });

            changePasswordModal.addEventListener('click', (e) => {
                if (e.target === changePasswordModal) {
                    changePasswordModal.classList.add('hidden');
                }
            });

            changePasswordForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const oldPassword = document.getElementById('oldPassword').value;
                const newPassword = document.getElementById('newPassword').value;
                try {
                    const response = await fetch('/change_password', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ old_password: oldPassword, new_password: newPassword })
                    });
                    const result = await response.json();
                    if (result.success) {
                        alert('Password changed successfully!');
                        changePasswordModal.classList.add('hidden');
                    } else {
                        alert(result.message || 'Failed to change password');
                    }
                } catch (error) {
                    alert('An error occurred while changing the password');
                }
            });
        });
        // ...existing code...

        // password_change_section end


        //  profile and sitting list

        // Toggle Profile dropdown
        // Toggle Profile dropdown
        document.getElementById('profile-btn').addEventListener('click', function (e) {
            e.stopPropagation();
            const dropdown = document.getElementById('profile-dropdown');
            const chevron = document.getElementById('profile-chevron');

            dropdown.classList.toggle('hidden');
            chevron.classList.toggle('rotate-180');
        });

        // Toggle Settings dropdown
        document.getElementById('settings-btn').addEventListener('click', function (e) {
            e.stopPropagation();
            const dropdown = document.getElementById('settings-dropdown');
            const chevron = document.getElementById('settings-chevron');

            dropdown.classList.toggle('hidden');
            chevron.classList.toggle('rotate-180');
        });

        // Toggle theme options menu
        document.getElementById('theme-btn').addEventListener('click', function (e) {
            e.stopPropagation();
            const options = document.getElementById('theme-options');
            const chevron = document.getElementById('theme-chevron');
            options.classList.toggle('hidden');
            chevron.classList.toggle('rotate-90');
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', function () {
            document.getElementById('profile-dropdown').classList.add('hidden');
            document.getElementById('settings-dropdown').classList.add('hidden');
            document.getElementById('theme-options').classList.add('hidden');

            document.getElementById('profile-chevron').classList.remove('rotate-180');
            document.getElementById('settings-chevron').classList.remove('rotate-180');
            document.getElementById('theme-chevron').classList.remove('rotate-90');
        });

        // Theme toggle script (works with dropdown)
        (function () {
            const html = document.documentElement;
            const toggle = document.getElementById('theme-toggle');
            const label = document.getElementById('theme-label');
            const iconSun = document.getElementById('icon-sun');
            const iconMoon = document.getElementById('icon-moon');
            const switchThumb = document.getElementById('switch-thumb');
            const STORAGE_KEY = 'theme-preference';

            function applyTheme(theme) {
                if (theme === 'dark') {
                    html.classList.add('dark');
                    toggle.setAttribute('aria-pressed', 'true');
                    label.textContent = 'Dark Mode';
                    iconSun.classList.add('hidden');
                    iconMoon.classList.remove('hidden');
                    switchThumb.style.transform = 'translateX(16px)'; // Move to right
                } else {
                    html.classList.remove('dark');
                    toggle.setAttribute('aria-pressed', 'false');
                    label.textContent = 'Light Mode';
                    iconSun.classList.remove('hidden');
                    iconMoon.classList.add('hidden');
                    switchThumb.style.transform = 'translateX(0)'; // Move to left
                }
            }

            function getSavedTheme() {
                try {
                    return localStorage.getItem(STORAGE_KEY);
                } catch {
                    return null;
                }
            }

            function initTheme() {
                const saved = getSavedTheme();
                if (saved === 'dark' || saved === 'light') {
                    applyTheme(saved);
                } else {
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    applyTheme(prefersDark ? 'dark' : 'light');
                }
            }

            toggle.addEventListener('click', function (e) {
                e.stopPropagation();
                const isDark = html.classList.contains('dark');
                const next = isDark ? 'light' : 'dark';
                try {
                    localStorage.setItem(STORAGE_KEY, next);
                } catch { }
                applyTheme(next);
            });

            // Initialize theme
            initTheme();
        })();




        // My profile section st 


        // Open Profile Modal when "My Profile" is clicked
        document.querySelector('#profile-dropdown a').addEventListener('click', function (e) {
            e.preventDefault();
            openProfileModal();
        });

        // Profile modal functions
        function openProfileModal() {
            // Example: Fill with user data (replace with your actual user object)
            const user = {
                avatar: document.getElementById('user-avatar').src,
                firstName: document.getElementById('user-name').textContent,
                email: document.getElementById('user-email').textContent,
                password: window.loggedInPassword || ''
            };

            const profileImg = document.getElementById('profileavatar');
            const defaultIcon = document.getElementById('defaultIcon');

            // ‚úÖ Check avatar properly
            if (user.avatar && user.avatar.trim() !== "" && !user.avatar.includes("undefined")) {
                profileImg.src = user.avatar;

                profileImg.onload = () => {
                    profileImg.classList.remove("hidden");  // show image
                    defaultIcon.classList.add("hidden");    // hide icon
                };

                profileImg.onerror = () => {
                    profileImg.classList.add("hidden");     // hide broken image
                    defaultIcon.classList.remove("hidden"); // show icon
                };
            } else {
                profileImg.classList.add("hidden");         // no image
                defaultIcon.classList.remove("hidden");     // show default icon
            }

            // Set other values in the modal
            document.getElementById('profileFirstName').textContent = user.firstName;
            document.getElementById('profileEmail').textContent = user.email;

            // Show password or social login info
            const profilePassword = document.getElementById('profilePassword');
            if (profilePassword) {
                if (user.password) {
                    profilePassword.value = user.password;
                } else if (user.email.includes('gmail.com')) {
                    profilePassword.value = 'Google Account';
                } else if (user.email.includes('github.com')) {
                    profilePassword.value = 'GitHub Account';
                } else {
                    profilePassword.value = '********';
                }
            }

            // Show modal with animation
            const modal = document.getElementById('profileModal');
            const modalContent = modal.querySelector('div');
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('opacity-0', 'scale-95');
                modalContent.classList.add('opacity-100', 'scale-100');
            }, 10);
        }


        function closeProfileModal() {
            const modal = document.getElementById('profileModal');
            const modalContent = modal.querySelector('div');
            modalContent.classList.remove('opacity-100', 'scale-100');
            modalContent.classList.add('opacity-0', 'scale-95');
            setTimeout(() => {
                modal.classList.add('opacity-0');
                setTimeout(() => modal.classList.add('hidden'), 300);
            }, 150);
        }





        // Show/Hide password function


        function toggleProfilePassword() {
            const passwordField = document.getElementById('profilePassword');
            const toggleText = document.getElementById('showHideText');
            const eyeIcon = document.querySelector('#profileModal .fa-eye, #profileModal .fa-eye-slash');
            const value = passwordField.value;

            if (passwordField.type === 'password') {
                // If Google or GitHub account, show alert first
                if (value === 'Google Account') {
                    alert("‚ö† Google account can't provide password.");
                    passwordField.type = 'text';
                    toggleText.textContent = 'Hide';
                    if (eyeIcon) eyeIcon.classList.replace('fa-eye', 'fa-eye-slash');
                    passwordField.value = 'Google Account';
                    return;
                }
                if (value === 'GitHub Account') {
                    alert("‚ö† GitHub account can't provide password.");
                    passwordField.type = 'text';
                    toggleText.textContent = 'Hide';
                    if (eyeIcon) eyeIcon.classList.replace('fa-eye', 'fa-eye-slash');
                    passwordField.value = 'GitHub Account';
                    return;
                }
                // Normal password
                passwordField.type = 'text';
                toggleText.textContent = 'Hide';
                if (eyeIcon) eyeIcon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                // Hide again
                passwordField.type = 'password';
                toggleText.textContent = 'Show';
                if (eyeIcon) eyeIcon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        }


        function openEditNameModal(currentName) {
            let modal = document.getElementById('editNameModal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'editNameModal';
                modal.className = 'fixed inset-0 flex items-center justify-center z-50 transition-colors duration-300';
                modal.style.backgroundColor = document.documentElement.classList.contains('dark')
                    ? 'rgba(15,23,42,0.8)' // dark mode bg
                    : 'rgba(0,0,0,0.5)';   // light mode bg

                modal.innerHTML = `
    <div class="bg-white dark:bg-[#333A4A] p-6 rounded-xl shadow-xl w-full max-w-xs text-center transition-colors duration-300">
        <h3 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Edit Name</h3>
        <input id="editNameInput" type="text" class="w-full px-4 py-2 border rounded-lg mb-4 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white border-gray-200 dark:border-gray-700" value="${currentName}">
        <div id="editNameWarning" class="text-red-600 text-sm mb-3 hidden"></div>
        <div class="flex justify-center gap-3">
           
            <button id="cancelEditNameBtn" class="px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg font-medium transition-colors">Cancel</button>
            <button id="saveNameBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors">Save</button>
        </div>
    </div>
        `;
                document.body.appendChild(modal);
            } else {
                document.getElementById('editNameInput').value = currentName;
                modal.classList.remove('hidden');
            }

            // Show warning if Google or GitHub account
            const profilePassword = document.getElementById('profilePassword');
            const warning = document.getElementById('editNameWarning');
            if (profilePassword && warning) {
                if (profilePassword.value === 'Google Account') {
                    warning.textContent = "Google account name can't be changed permanently. Only temporary change in UI.";
                    warning.classList.remove('hidden');
                } else if (profilePassword.value === 'GitHub Account') {
                    warning.textContent = "GitHub account name can't be changed permanently. Only temporary change in UI.";
                    warning.classList.remove('hidden');
                } else {
                    warning.classList.add('hidden');
                }
            }
            document.getElementById('saveNameBtn').onclick = async function () {
                const newName = document.getElementById('editNameInput').value.trim();
                if (newName) {
                    document.getElementById('user-name').textContent = newName;
                    document.getElementById('profileFirstName').textContent = newName;

                    try {
                        const response = await fetch('/api/update_name', {
                            method: 'PUT',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                first_name: newName.split(' ')[0] || newName,
                                last_name: newName.split(' ').slice(1).join(' ') || ''
                            })
                        });
                        const result = await response.json();
                        if (!result.success) {
                            alert(result.message || 'Name update failed');
                        }
                    } catch (error) {
                        alert('Error updating name on server');
                    }
                    modal.classList.add('hidden');
                }
            };

            document.getElementById('cancelEditNameBtn').onclick = function () {
                modal.classList.add('hidden');
            };

            modal.onclick = function (e) {
                if (e.target === modal) modal.classList.add('hidden');
            };
        }

        // Sidebar Edit Profile
        function editProfileSidebar() {
            const sidebarName = document.getElementById('user-name').textContent;
            openEditNameModal(sidebarName);
        }

        // Profile Modal Edit Profile
        function editProfile() {
            const profileName = document.getElementById('profileFirstName').textContent;
            openEditNameModal(profileName);
        }


    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("feedbackForm");
            const btnText = document.getElementById("btnText");
            const spinner = document.getElementById("loadingSpinner");

            if (form) {
                form.addEventListener("submit", function (e) {
                    e.preventDefault();

                    // üîÑ Show "Submitting..." with spinner
                    btnText.textContent = "Submtting... ";
                    spinner.classList.remove("hidden");

                    emailjs.sendForm("service_7ipfx1u", "template_qy0cdnt", this)
                        .then(() => {
                            // ‚úÖ Success
                            form.reset();

                            // Reset button
                            btnText.textContent = "Submit Feedback";
                            spinner.classList.add("hidden");

                            // üéâ Show popup (agar hai)
                            const popup = document.getElementById("successPopup");
                            if (popup) {
                                popup.style.right = "20px";
                                setTimeout(() => popup.style.right = "-400px", 3000);
                            }
                        })
                        .catch((err) => {
                            console.error("‚ùå Error:", err);
                            alert("‚ùå Failed: " + JSON.stringify(err));

                            // Reset button on error
                            btnText.textContent = "hidden";
                            spinner.classList.add("hidden");
                        });
                });
            }
        });

    </script>
    </body>

</html>
